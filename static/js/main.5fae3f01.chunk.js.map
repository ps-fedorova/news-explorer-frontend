{"version":3,"sources":["images/icon_facebook_square.svg","images/logout_main.svg","images/logout_saved_news.svg","images/author.jpg","images/not-found.svg","images/icon_github.svg","images/icon_facebook_circle.svg","contexts/CurrentUserContext.js","components/Button/Button.js","components/ButtonBurgerMenu/ButtonBurgerMenu.js","components/Link/Link.js","components/Navigation/Navigation.js","components/MenuMobile/MenuMobile.js","components/Header/Header.js","utils/config.js","components/SearchForm/SearchForm.js","components/About/About.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","components/NotFound/NotFound.js","components/Main/Main.js","components/ProtectedRoute/ProtectedRoute.js","components/SavedNewsHeader/SavedNewsHeader.js","utils/declOfNum.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","components/Popups/PopupInput/PopupInput.js","components/Popups/PopupForm/PopupForm.js","utils/useFormWithValidation.js","components/Popups/Login/Login.js","components/Popups/Register/Register.js","components/Popups/InfoTooltip/InfoTooltip.js","utils/mainApi.js","components/App/App.js","utils/newsApi.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Button","props","page","pathname","onClick","type","disabled","className","header","menuMobile","searchForm","cardList","popup","image","classNameTextBtn","title","value","classNameImgBtn","src","alt","ButtonBurgerMenu","buttonBurgerMenu","isMenuMobile","classBurgerMenu","showMenu","Link","navLink","to","linkImage","classNameLink","href","target","rel","classNameImage","Navigation","main","classNameTextMain","classNameTextSavedNews","loggedIn","MenuMobile","currentUser","useContext","isShowMenu","logout","handleAuthButton","Header","classNameLogo","logoutMain","logoutSavedNews","classBackground","handleEsc","evt","key","useEffect","window","addEventListener","removeEventListener","handleMenuMobile","isShowOverlay","SERVER_ERROR_MESSAGE","MAIN_BASE_URL","options","year","month","day","CURRENT_DATE","Intl","DateTimeFormat","format","Date","now","ONE_WEEK_AGO_FROM_THE_CURRENT_DATE","SearchForm","useState","isSubmitted","setIsSubmitted","isSearchInputValid","setIsSearchInputValid","classError","setClassError","timer","setTimer","id","useRef","clear","clearInterval","current","setInterval","time","placeholder","valueSearchInput","onChange","setValueSearchInput","trimStart","validity","valid","required","preventDefault","handleNewsSearch","About","author","NewsCard","date","card","publishedAt","cardSaved","fullDate","toLocaleString","getFullYear","handleCardSavedClick","addAnArticleToTheSavedList","keyword","text","description","source","name","link","url","urlToImage","deleteAnArticleFromTheSavedList","savedArticlesArray","some","i","NewsCardList","arrayOfArticles","rowArticles","Array","from","searchResultArray","slice","map","length","handleShowMoreArticles","reverse","Preloader","NotFound","notFound","notFoundImg","Main","setLoading","setNotFound","setValueSearchInputError","loading","isSearchError","valueSearchInputError","ProtectedRoute","Component","component","SavedNewsHeader","number","savedText","keywords","art","reduce","acc","undefined","sortedKey","Object","keys","sort","a","b","item","displayKeywords","SavedNews","Footer","iconGithub","minWidth","iconFacebookSquare","maxWidth","iconFacebookCircle","PopupInput","label","minLength","maxLength","isValid","errors","FormPopup","isOpen","onSubmit","noValidate","onClose","children","infoTooltip","authError","handleSubmit","isDisabled","submitButtonText","onChangeForm","login","useFormWithValidation","values","setValues","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","Login","handleLogin","email","password","inputLabelClassName","inputFieldClassName","Register","register","formName","handleRegister","InfoTooltip","linkText","getUserInfo","token","fetch","method","credentials","headers","Authorization","then","res","ok","json","catch","message","App","useLocation","history","useHistory","setLoggedIn","setCurrentUser","setDisabled","isLoginOpen","setLoginOpen","isRegisterOpen","setRegisterOpen","isInfoTooltipOpen","setInfoTooltipOpen","setClassBurgerMenu","setIsShowMenu","setIsShowOverlay","setMenuMobile","setAuthError","setSearchResultArray","setSavedArticlesArray","setRowArticles","setSearchError","handleLoginOpen","handleRegisterOpen","closeAllPopups","getSavedArticles","localStorage","getItem","news","data","err","console","log","getArticlesFromAPI","searchRequest","URL","Promise","reject","Error","status","getArticles","articles","finally","_id","newCard","filter","jwt","mainApi","Provider","removeItem","push","exact","path","article","saved","find","body","JSON","stringify","newArticle","Accept","escape","setItem","onInfoTooltipOpen","emailUser","passwordUser","nameUser","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.5fae3f01.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon_facebook_square.4b12ed39.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout_main.3c57fa38.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout_saved_news.37f19cfe.svg\";","module.exports = __webpack_public_path__ + \"static/media/author.ead9e275.jpg\";","module.exports = __webpack_public_path__ + \"static/media/not-found.175a96ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_github.5bf37e74.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_facebook_circle.e699115e.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext(null);\r\n\r\nexport { CurrentUserContext as default };\r\n","import React from 'react';\nimport './Button.css';\n\nfunction Button(props) {\n  const page = (props.pathname === '/saved-news')\n    ? 'button_type_outline-saved-news'\n    : 'button_type_outline-main';\n\n  return (\n    // здесь про размер кнопки и основные атрибуты\n    <button\n      onClick={props.onClick}\n      type={props.type}\n      disabled={props.disabled}\n      className={`button\n    ${props.header ? `${page} header__button` : ''}\n    ${props.menuMobile ? 'menu-mobile__button' : ''}\n    ${props.searchForm ? 'search-form__button' : ''}\n    ${props.cardList ? 'news-card-list__button' : ''}\n    ${props.popup ? 'popup__button' : ''}\n    `}\n    >\n      {props.image\n\n        // если кнопка содержит картинку (как в хедере)\n        ? <span className=\"button__container button__container_position\">\n          <span className={`button__text ${props.classNameTextBtn}`} title={props.title}>\n            {props.value}\n          </span>\n          <img className={props.classNameImgBtn} src={props.src} alt={props.alt}/>\n        </span>\n\n        // если в кнопке только текст\n        : <span className=\"button__container\">\n          <span className={`button__text ${props.classNameTextBtn}`} title={props.title}>\n            {props.value}\n          </span>\n        </span>\n      }\n    </button>\n  );\n}\n\nexport default Button;\n","import React from 'react';\nimport './ButtonBurgerMenu.css';\n\nfunction ButtonBurgerMenu(props) {\n  const buttonBurgerMenu = `button-burger-menu__button ${(props.pathname === '/' || props.isMenuMobile)\n    ? ''\n    : 'button-burger-menu_saved-news'}`;\n\n  return (\n    <div className=\"button-burger-menu\">\n      <button\n        className={`${buttonBurgerMenu}  ${props.classBurgerMenu}`}\n        onClick={props.showMenu} type='button'\n      />\n    </div>\n  );\n}\n\nexport default ButtonBurgerMenu;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Link.css';\n\nfunction Link(props) {\n  function linkFunction() {\n    if (props.navLink) { // если навигация\n      return (\n        <NavLink\n          title={props.title}\n          className={`link ${props.className}`}\n          to={props.to}\n        >\n          {props.value}\n        </NavLink>\n      );\n    }\n    if (props.linkImage) { // если ссылка с картинкой\n      return (\n        <a\n          title={props.title}\n          className={`link ${props.classNameLink}`}\n          href={props.href}\n          target='_blank'\n          rel='noopener noreferrer'\n\n        >\n          <img\n            src={props.src}\n            alt={props.alt}\n            className={props.classNameImage}\n          />\n        </a>);\n    } // и просто ссылка\n    return (\n      <a\n        title={props.title}\n        className={`link ${props.className}`}\n        href={props.href}\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        {props.value}\n      </a>);\n  }\n\n  return (\n    <>\n      {linkFunction()}\n    </>\n  );\n}\n\nexport default Link;\n","import React from 'react';\nimport Link from '../Link/Link';\nimport './Navigation.css';\n\n// Навигация входит в MenuMobile, контекст там.\n// Не могу перетащить сюда кнопку,\n// потому что они в хедере и мобильном меню разные\nfunction Navigation(props) {\n  const main = (props.pathname === '/' || props.isMenuMobile);\n  const classNameTextMain = `nav__text ${main ? 'nav__text_selected' : 'nav__text_saved-news'}`;\n  const classNameTextSavedNews = `nav__text ${main ? '' : 'nav__text_saved-news nav__text_selected-saved-news'}`;\n\n  return (\n    <nav className=\"nav\">\n      <ul className=\"nav__list\">\n        <li className=\"nav__item\">\n          <Link navLink={true} title=\"Перейти на страницу с поиском\"\n                className={classNameTextMain} to=\"/\" value=\"Главная\"/>\n        </li>\n        {props.loggedIn && <li className=\"nav__item\">\n          <Link navLink={true} title=\"Перейти на страницу с сохранёнными статьями\"\n                className={classNameTextSavedNews}\n                to=\"/saved-news\" value=\"Сохранённые статьи\"/>\n        </li>\n        }\n      </ul>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React from 'react';\nimport './MenuMobile.css';\nimport Button from '../Button/Button';\nimport Navigation from '../Navigation/Navigation';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction MenuMobile(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <div className={`menu-mobile ${props.isShowMenu}`}>\n      <div className='menu-mobile__container'>\n        <Navigation loggedIn={props.loggedIn}/>\n        {props.loggedIn\n          ? <Button\n            menuMobile={true}\n            image={true}\n            className='menu-mobile__button'\n            value={currentUser}\n            src={props.logout}\n            alt=\"Выход\"\n            handleAuthButton={props.handleAuthButton}\n            onClick={props.onClick}\n          />\n          : <Button\n            className='menu-mobile__button'\n            value='Авторизоваться'\n            menuMobile={true}\n            handleAuthButton={props.handleAuthButton}\n            onClick={props.onClick}\n          />\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default MenuMobile;\n","import React from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport Button from '../Button/Button';\nimport ButtonBurgerMenu from '../ButtonBurgerMenu/ButtonBurgerMenu';\nimport MenuMobile from '../MenuMobile/MenuMobile';\nimport Link from '../Link/Link';\nimport Navigation from '../Navigation/Navigation';\nimport './Header.css';\n\nimport logoutMain from '../../images/logout_main.svg';\nimport logoutSavedNews from '../../images/logout_saved_news.svg';\n\nfunction Header(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const main = (props.pathname === '/' || props.isMenuMobile);\n  const classNameLogo = `header__logo ${main ? '' : 'header__logo_saved-news'}`;\n  const classNameTextBtn = `header__text header__text_button ${main ? '' : 'header__text_saved-news'}`;\n  const logout = main ? logoutMain : logoutSavedNews;\n  const classBackground = `header__background-img ${main ? '' : 'header__background-img_saved-news'}`;\n\n  function handleEsc(evt) {\n    if (evt.key === 'Escape' && props.isMenuMobile) {\n      props.showMenu();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  function handleOverlayClose() {\n    if (props.isMenuMobile) {\n      props.showMenu();\n    }\n  }\n\n  return (\n    <>\n      <header className=\"header\">\n\n        <div className=\"header__background-position\">\n          <div className={classBackground}/>\n        </div>\n        <div className=\"header__container\">\n\n          <span className=\"header__border\"/>\n          <Link navLink={true} title=\"Перейти на страницу с поиском\" className={classNameLogo} to='/'\n                value=\"NewsExplorer\"/>\n          <div className=\"header__menu\">\n\n            <Navigation\n              pathname={props.pathname}\n              isMenuMobile={props.isMenuMobile}\n              loggedIn={props.loggedIn}\n            />\n            <div className=\"header__button-container\">\n\n              {props.loggedIn\n                ? <Button\n                  title=\"Выход\"\n                  value={currentUser}\n                  pathname={props.pathname}\n                  image={true}\n                  header={true}\n                  classNameImgBtn=\"header__button-img\"\n                  classNameTextBtn={classNameTextBtn}\n                  src={logout}\n                  alt=\"Выход\"\n                  onClick={props.onClick}\n                />\n\n                : < Button\n                  title=\"Авторизоваться\"\n                  value=\"Авторизоваться\"\n                  pathname={props.pathname}\n                  header={true}\n                  classNameImgBtn=\"header__button-img\"\n                  classNameTextBtn={classNameTextBtn}\n                  onClick={props.onClick}\n                />\n              }\n\n            </div>\n          </div>\n          <ButtonBurgerMenu\n            handleMenuMobile={props.handleMenuMobile}\n            pathname={props.pathname}\n            showMenu={props.showMenu}\n            classBurgerMenu={props.classBurgerMenu}\n            isMenuMobile={props.isMenuMobile}\n          />\n        </div>\n        <MenuMobile\n          isShowMenu={props.isShowMenu}\n          loggedIn={props.loggedIn}\n          logout={logout}\n          onClick={props.onClick}\n        />\n        {/* включить */}\n        <div onClick={handleOverlayClose} className={`header__overlay ${props.isShowOverlay}`}/>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export const SERVER_ERROR_MESSAGE = 'Во время запроса произошла ошибка. '\n  + 'Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\n\nexport const NEWS_BASE_URL = 'https://nomoreparties.co/news/v2/everything';\nexport const NEWS_API_KEY = '5a8dfbd5887c4367be2a938a68940ebf';\n\nexport const MAIN_BASE_URL = 'https://www.api.fed.students.nomoreparties.xyz';\n\n// количество статей в одной выдаче\nexport const SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT = 3;\n\n// доступный массив статей\nexport const PAGE_SIZE = 100;\n\n// дата\nconst locales = 'sv'; // 2020-11-11\nconst options = { year: 'numeric', month: '2-digit', day: '2-digit' };\nconst week = 7 * 24 * 60 * 60 * 1000;\n\nexport const CURRENT_DATE = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now());\n\nexport const ONE_WEEK_AGO_FROM_THE_CURRENT_DATE = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now() - week);\n\n// Время до исчезания надписи \"Нужно ввести ключевое слово\"\nexport const TIME_IN_SEC_DISPLAY_EMPTY_SEARCH = 5;\n","import React from 'react';\nimport './SearchForm.css';\nimport Button from '../Button/Button';\n\nimport { TIME_IN_SEC_DISPLAY_EMPTY_SEARCH } from '../../utils/config';\n\nfunction SearchForm(props) {\n  const [isSubmitted, setIsSubmitted] = React.useState(false); // нажата кнопка?\n  // введенные данные валидны?\n  const [isSearchInputValid, setIsSearchInputValid] = React.useState(false);\n  const [classError, setClassError] = React.useState(''); // состояние ошибки\n\n  // Следующая дикая конструкция нужна чтобы предупреждение исчезало через 5 секунд\n  const [timer, setTimer] = React.useState(0);\n\n  const id = React.useRef(0);\n  const clear = () => {\n    window.clearInterval(id.current);\n  };\n\n  React.useEffect(() => {\n    id.current = window.setInterval(() => {\n      setTimer((time) => time - 1);\n    }, 1000);\n    return () => clear();\n  }, [isSubmitted]);\n\n  React.useEffect(() => {\n    if (timer === 0 || isSubmitted === false) {\n      clear();\n      setIsSubmitted(false);\n      setClassError('');\n      setIsSearchInputValid(false);\n    }\n  }, [timer, isSubmitted]);\n\n  // инпут\n  function handleValueInputSearchChange(evt) {\n    props.setValueSearchInput(evt.target.value.trimStart());\n    setIsSubmitted(false);\n    if (!evt.target.validity.valid) {\n      setIsSearchInputValid(false);\n    } else {\n      setIsSearchInputValid(true);\n    }\n  }\n\n  // кнопка\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    setIsSubmitted(true);\n    setTimer(timer + TIME_IN_SEC_DISPLAY_EMPTY_SEARCH);\n\n    if (!isSearchInputValid && props.valueSearchInput === '') {\n      setClassError('search-form__error_open');\n    } else {\n      setClassError('');\n      props.handleNewsSearch();\n    }\n  }\n\n  return (\n    <section className=\"search-form\">\n      <div className=\"search-form__container\">\n        <h1 className=\"search-form__title\">Что творится в мире?</h1>\n        <p className=\"search-form__subtitle\">\n          Находите самые свежие статьи на&nbsp;любую тему и&nbsp;сохраняйте\n          в&nbsp;своём личном кабинете.\n        </p>\n\n        <form className=\"search-form__input-container\">\n          <input\n            title=\"Введите запрос\"\n            type=\"text\"\n            className=\"search-form__input\"\n            placeholder=\"Введите тему новости\"\n            value={props.valueSearchInput}\n            onChange={handleValueInputSearchChange}\n            required\n            disabled={props.disabled}\n          />\n          <Button\n            searchForm={true}\n            value=\"Искать\"\n            className=\"search-form__button\"\n            type=\"submit\"\n            onClick={handleSubmit}\n            disabled={props.disabled}\n          />\n        </form>\n        <span\n          className={`search-form__error ${classError}`}>\n          Нужно ввести ключевое слово\n        </span>\n      </div>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './About.css';\nimport author from '../../images/author.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <div className=\"about__container\">\n        <img className=\"about__author-img\" src={author} alt=\"Фото автора\"/>\n        <div className=\"about__container-description\">\n          <h2 className=\"about__title-description\">Об авторе</h2>\n          <p className=\"about__text-description\">\n            Это блок с описанием автора проекта.\n            Здесь следует указать, как вас зовут, чем вы занимаетесь,\n            какими технологиями разработки владеете.\n          </p>\n          <p className=\"about__text-description\">\n            Также можно рассказать о процессе обучения в Практикуме,\n            чему вы тут научились, и чем можете помочь потенциальным заказчикам.\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport './NewsCard.css';\n\nfunction NewsCard(props) {\n  const date = new Date(props.main ? props.card.publishedAt : props.cardSaved.date);\n  const fullDate = `${date.toLocaleString('ru', {\n    day: 'numeric',\n    month: 'long',\n  })}, ${date.getFullYear()}`;\n\n  function handleCardSavedClick() {\n    props.addAnArticleToTheSavedList({\n      keyword: props.valueSearchInput,\n      title: props.card.title,\n      text: props.card.description,\n      date: props.card.publishedAt,\n      source: props.card.source.name,\n      link: props.card.url,\n      image: props.card.urlToImage,\n    });\n  }\n\n  function deleteAnArticleFromTheSavedList() {\n    props.deleteAnArticleFromTheSavedList(props.cardSaved);\n  }\n\n  function displayMark() {\n    if (props.loggedIn && (props.pathname === '/')) {\n      return (\n        <>\n          <button\n            className={\n              `news-card__items-in-img news-card__mark\n            ${!(props.savedArticlesArray.some((i) => i.title === props.card.title))\n                ? 'news-card__mark_type_save'\n                : 'news-card__mark_type_saved'}`\n            }\n            onClick={handleCardSavedClick}\n          />\n        </>\n      );\n    }\n    if (!props.loggedIn && (props.pathname === '/')) {\n      return (\n        <>\n          <button\n            className=\"news-card__items-in-img news-card__mark news-card__mark_type_save\"\n            onClick={props.addAnArticleToTheSavedList}\n          />\n          <p className=\"news-card__items-in-img news-card__notice news-card__notice_main\">\n            Войдите, чтобы сохранять статьи\n          </p>\n        </>\n      );\n    }\n    // if (props.pathname === '/saved-news') {\n    return (\n      <>\n        <button\n          className=\"news-card__items-in-img news-card__mark news-card__mark_type_trashcan\"\n          onClick={deleteAnArticleFromTheSavedList}\n        />\n        <p className=\"news-card__items-in-img news-card__notice\">Убрать из сохранённых</p>\n      </>\n    );\n    // }\n  }\n\n  /// ////////////////\n  return (\n    <li className=\"news-card\">\n      <a title=\"Открыть статью в новой вкладке\" href={props.main ? props.card.url : props.cardSaved.link}\n         className=\"link news-card__link-img\" target=\"_blank\"\n         rel='noopener noreferrer'>\n        <img className=\"news-card__image\"\n             src={props.main ? props.card.urlToImage : props.cardSaved.image}\n             alt={props.main ? props.card.title : props.cardSaved.title}\n        />\n      </a>\n\n      {\n        (props.pathname === '/')\n          ? <></>\n          : < div className=\"news-card__items-in-img news-card__keyword-container\">\n            <p title={props.cardSaved.keyword} className=\"news-card__keyword\">{props.cardSaved.keyword}</p>\n          </div>\n      }\n\n      <div className=\"news-card__image-container\">\n        <>{displayMark()}</>\n      </div>\n\n      <div className=\"news-card__text-container\">\n        <span className=\"news-card__date\">{fullDate}</span>\n        <a\n          title=\"Открыть статью в новой вкладке\"\n          className=\"news-card__link\"\n          href={props.main ? props.card.url : props.cardSaved.link}\n          target=\"_blank\"\n          rel='noopener noreferrer'>\n          <h3 className=\"news-card__title\">{props.main ? props.card.title : props.cardSaved.title}</h3>\n        </a>\n        <p className=\"news-card__content\">{props.main ? props.card.description : props.cardSaved.text}</p>\n        <span className=\"news-card__source\">{props.main ? props.card.source.name : props.cardSaved.source}</span>\n      </div>\n    </li>\n  );\n}\n\nexport default NewsCard;\n","import React from 'react';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport Button from '../Button/Button';\n\nimport { SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT } from '../../utils/config';\n\nimport './NewsCardList.css';\n\nfunction NewsCardList(props) {\n  const main = (props.pathname === '/');\n\n  const arrayOfArticles = props.rowArticles * SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT;\n\n  return (\n    <section className=\"news-card-list\">\n      <div className=\"news-card-list__container\">\n\n        {/* Главная */}\n        {main\n          ? <>\n            <h3 className=\"news-card-list__title\">Результаты поиска</h3>\n            <ul className=\"news-card-list__list\">\n              {Array.from(props.searchResultArray)\n                .slice(0, arrayOfArticles)\n                .map((card, key) => (\n                <NewsCard\n                  main={props.main}\n                  key={key}\n                  card={card}\n                  pathname={props.pathname}\n                  loggedIn={props.loggedIn}\n                  addAnArticleToTheSavedList={props.addAnArticleToTheSavedList}\n                  savedArticlesArray={props.savedArticlesArray}\n                  valueSearchInput={props.valueSearchInput} // инпут - ключевое слово\n                />\n                ))}\n            </ul>\n            <div className=\"news-card-list__button-position\">\n              {(props.searchResultArray.length - arrayOfArticles > 0)\n              && <Button\n                cardList={true}\n                value=\"Показать еще\"\n                classNameTextBtn='news-card-list__button-text'\n                onClick={props.handleShowMoreArticles}\n              />\n              }\n            </div>\n          </>\n\n        // Сохраненки\n          : <ul className=\"news-card-list__list\">\n            {Array.from(props.savedArticlesArray).reverse()\n              .map((cardSaved, key) => (\n              <NewsCard\n                key={key}\n                cardSaved={cardSaved}\n                pathname={props.pathname}\n                deleteAnArticleFromTheSavedList={props.deleteAnArticleFromTheSavedList}\n              />\n              ))}\n          </ul>}\n      </div>\n    </section>\n  );\n}\n\nexport default NewsCardList;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <section className=\"preloader\">\n      <div className=\"preloader__container\">\n        <i className=\"preloader__circle\"/>\n        <p className=\"preloader__title\">Идет поиск новостей...</p>\n      </div>\n\n    </section>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport './NotFound.css';\nimport notFoundImg from '../../images/not-found.svg';\n\nfunction NotFound(props) {\n  return (\n    <section className=\"not-found\">\n      <div className=\"not-found__container\">\n        {props.notFound && <img\n          src={notFoundImg}\n          alt=\"Лупа\"\n          className=\"not-found__image\"\n        />\n        }\n        <h2 className=\"not-found__title\">\n          {props.notFound\n            ? 'Ничего не найдено'\n            : 'Во время запроса произошла ошибка.'\n          }\n        </h2>\n        <p className=\"not-found__text\">\n          {props.notFound\n            ? 'К сожалению по вашему запросу ничего не найдено.'\n            : 'Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз'\n          }\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport About from '../About/About';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport Preloader from '../Preloader/Preloader';\nimport NotFound from '../NotFound/NotFound';\nimport './Main.css';\n\nfunction Main(props) {\n  return (\n    <main className=\"main\">\n      <SearchForm\n        disabled={props.disabled}\n        setLoading={props.setLoading}\n        notFound={props.notFound}\n        setNotFound={props.setNotFound}\n        handleNewsSearch={props.handleNewsSearch}\n        valueSearchInput={props.valueSearchInput}\n        setValueSearchInput={props.setValueSearchInput}\n        setValueSearchInputError={props.setValueSearchInputError}\n      />\n      {props.loading && <Preloader/>}\n      {(props.notFound || props.isSearchError)\n      && <NotFound\n        notFound={props.notFound}\n      />}\n      {props.searchResultArray.length !== 0\n      && <NewsCardList\n        main={true}\n        pathname={props.pathname}\n        loggedIn={props.loggedIn}\n        // articlesDefault={props.articlesDefault}\n        searchResultArray={props.searchResultArray}\n        setNotFound={props.setNotFound}\n        valueSearchInput={props.valueSearchInput}\n        valueSearchInputError={props.valueSearchInputError}\n        rowArticles={props.rowArticles}\n        handleShowMoreArticles={props.handleShowMoreArticles}\n        addAnArticleToTheSavedList={props.addAnArticleToTheSavedList}\n        savedArticlesArray={props.savedArticlesArray}\n      />\n      }\n      <About/>\n\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => (\n  <Route>\n    {\n      () => (props.loggedIn ? <Component {...props} /> : <Redirect from='/saved-news' to='/' />)\n    }\n  </Route>\n);\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { declOfNum } from '../../utils/declOfNum';\nimport './SavedNewsHeader.css';\n\nfunction SavedNewsHeader(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function displayKeywords() {\n    let result = '';\n\n    const keywords = props.savedArticlesArray.map((art) => art.keyword)\n      .reduce((acc, key) => {\n        acc[key] = acc[key] === undefined ? 1 : acc[key] += 1;\n        return acc;\n      }, {});\n\n    const sortedKey = Object.keys(keywords).reverse()\n      .map((key) => [key, keywords[key]])\n      .sort((a, b) => b[1] - a[1])\n      .map((item) => item[0]);\n\n    if (sortedKey.length === 1) {\n      result = <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}\n        </span>;\n    } else if (sortedKey.length === 2) {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey[1]}\n          </span>\n      </>;\n    } else if (sortedKey.length === 3) {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}, {sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey[2]}\n          </span>\n      </>;\n    } else {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}, {sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey.length - 2}-м другим\n          </span>\n      </>;\n    }\n    return result;\n  }\n\n  const savedText = declOfNum(props.savedArticlesArray.length,\n    ['сохранённая статья', 'сохранённые статьи', 'сохранённых статей']);\n\n  return (\n    <section className=\"saved-news-header\">\n      <h1 className=\"saved-news-header__title\">Сохранённые статьи</h1>\n      <h2 className=\"saved-news-header__subtitle\">\n        <span className=\"saved-news-header__subtitle-text\">\n          {currentUser}, у&nbsp;вас {\n          `${props.savedArticlesArray.length === 0 ? 'ещё нет' : props.savedArticlesArray.length}`} {savedText}\n        </span>\n      </h2>\n      {props.savedArticlesArray.length !== 0\n      && < p className=\"saved-news-header__text\">\n        По ключевым словам:&nbsp;{displayKeywords()}\n      </p>\n      }\n    </section>\n  );\n}\nexport default SavedNewsHeader;\n","export function declOfNum(number, titles) {\n  const cases = [2, 0, 1, 1, 1, 2];\n  return titles[(number % 100 > 4 && number % 100 < 20)\n    ? 2\n    : cases[(number % 10 < 5)\n      ? number % 10\n      : 5]];\n}\n","import React from 'react';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport './SavedNews.css';\n\nfunction SavedNews(props) {\n  return (\n    <main className=\"saved-news\">\n      <SavedNewsHeader\n        savedArticlesArray={props.savedArticlesArray}\n        loggedIn={props.loggedIn}\n      />\n      {props.savedArticlesArray.length !== 0\n      && <NewsCardList\n        pathname={props.pathname}\n        savedArticlesArray={props.savedArticlesArray}\n        valueSearchInput={props.valueSearchInput}\n        deleteAnArticleFromTheSavedList={props.deleteAnArticleFromTheSavedList}\n      />\n      }\n    </main>\n  );\n}\n\nexport default SavedNews;\n","import React from 'react';\n// Потому что в макете иконка Facebook меняется в зависимости от разрешения\nimport MediaQuery from 'react-responsive';\nimport Link from '../Link/Link';\nimport './Footer.css';\n\nimport iconGithub from '../../images/icon_github.svg';\nimport iconFacebookCircle from '../../images/icon_facebook_circle.svg';\nimport iconFacebookSquare from '../../images/icon_facebook_square.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        <p className=\"footer__copyright\">&copy; 2020 Supersite, Powered by News API</p>\n        <div className=\"footer__menu\">\n\n          <ul className=\"footer__list\">\n            <li className=\"footer__item\">\n              <Link navLink={true} title=\"Перейти на Главную\" className=\"footer__link\" to=\"/\" value=\"Главная\"/>\n            </li>\n            <li className=\"footer__item\">\n              <Link title=\"Открыть сайт Яндекс.Практикума в новом окне\" href=\"https://praktikum.yandex.ru\"\n                    className=\"footer__link\" value=\"Яндекс.Практикум\"/>\n            </li>\n          </ul>\n          <ul className=\"footer__list footer__list_social-icon\">\n            <li className=\"footer__item footer__item_social-icon\">\n              <Link linkImage={true} title=\"Открыть Github в новом окне\" href=\"https://github.com/ps-fedorova\"\n                    classNameLink=\"footer__link footer__link_social-icon\" src={iconGithub} alt=\"Github\"\n                    classNameImage=\"footer__social-icon\"/>\n            </li>\n\n            <li className=\"footer__item footer__item_social-icon\">\n              <>\n                <MediaQuery minWidth={961}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookSquare} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n\n                <MediaQuery minWidth={711} maxWidth={960}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookCircle} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n\n                <MediaQuery maxWidth={710}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookSquare} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n              </>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport './PopupInput.css';\n\nfunction PopupInput(props) {\n  return (\n    <label className=\"input\">{props.label}\n      <input\n        // id={props.id}\n        type={props.type}\n        name={props.name}\n        value={props.value}\n        minLength={props.minLength}\n        maxLength={props.maxLength}\n        onChange={props.onChange}\n        placeholder={props.placeholder}\n        disabled={props.disabled}\n        className='input__field'\n        required\n      />\n      <span className={!props.isValid ? 'input__error' : ''}>\n        {props.errors || ''}\n      </span>\n    </label>\n  );\n}\n\nexport default PopupInput;\n","import React from 'react';\nimport Button from '../../Button/Button';\nimport './PopupForm.css';\n\nfunction FormPopup(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'}`}>\n      <form\n        className='popup__form'\n        onSubmit={props.onSubmit}\n        noValidate\n      >\n        <button\n          className='popup__close-button'\n          onClick={props.onClose}\n          type='button'\n        />\n        <p className='popup__title'>{props.title}</p>\n        <fieldset className='popup__input-container'>\n          {props.children}\n        </fieldset>\n        {!props.infoTooltip && <span className='popup__warning'>\n            {props.authError}\n        </span>}\n        {!props.infoTooltip\n\n        && <Button\n          onClick={props.handleSubmit}\n          popup={true}\n          disabled={props.isDisabled || props.disabled}\n          // disabled={props.disabled}\n          value={props.submitButtonText}\n        >\n        </Button>\n        }\n        <div\n          className={`popup__subtitle ${props.infoTooltip ? 'popup__subtitle_infoTooltip' : ''}`}>{!props.infoTooltip && 'или'}\n          <span className={`popup__link ${props.infoTooltip ? 'popup__link_infoTooltip' : ''}`}\n                onClick={props.onChangeForm}>\n            {!props.login ? ' Войти' : ' Зарегистрироваться'}</span>\n        </div>\n      </form>\n      <div\n        className='popup__overlay'\n        onClick={props.onClose}>\n      </div>\n    </div>\n  );\n}\n\nexport default FormPopup;\n","import React from 'react';\n\nfunction useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { value } = target;\n    const { name } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = React.useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setIsValid,\n    resetForm,\n  };\n}\n\nexport default useFormWithValidation;\n","import React from 'react';\nimport PopupInput from '../PopupInput/PopupInput';\nimport PopupForm from '../PopupForm/PopupForm';\nimport useFormWithValidation from '../../../utils/useFormWithValidation';\n\nexport default function Login(props) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen, resetForm]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleLogin(values.email, values.password);\n  }\n  return (\n    <PopupForm\n      login={true}\n      title='Вход'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n      handleSubmit={handleSubmit}\n      submitButtonText='Войти'\n      isDisabled={!isValid}\n      authError={props.authError}\n      disabled={props.disabled}\n    >\n      <PopupInput\n        label='Email'\n        type='email'\n        name='email'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту'\n        onChange={handleChange}\n        errors={errors.email}\n        value={values.email || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Пароль'\n        type='password'\n        name='password'\n        minLength='8'\n        maxLength='30'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль'\n        onChange={handleChange}\n        errors={errors.password}\n        value={values.password || ''}\n        disabled={props.disabled}\n      />\n    </PopupForm>\n  );\n}\n","import React from 'react';\nimport PopupInput from '../PopupInput/PopupInput';\nimport PopupForm from '../PopupForm/PopupForm';\nimport useFormWithValidation from '../../../utils/useFormWithValidation';\n\nexport default function Register(props) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleRegister(values.email, values.password, values.name);\n  }\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen, resetForm]);\n\n  return (\n    <PopupForm\n      register={true}\n      title='Регистрация'\n      formName='registration'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n      onSubmit={handleSubmit}\n      submitButtonText='Зарегистрироваться'\n      isDisabled={!isValid}\n      authError={props.authError}\n      disabled={props.disabled}\n    >\n      <PopupInput\n        label='Email'\n        type='email'\n        name='email'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту'\n        onChange={handleChange}\n        errors={errors.email}\n        value={values.email || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Пароль'\n        type='password'\n        name='password'\n        minLength='8'\n        maxLength='30'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль'\n        onChange={handleChange}\n        errors={errors.password}\n        value={values.password || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Имя'\n        type='text'\n        name='name'\n        formName='reg'\n        minLength='2'\n        maxLength='10'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите имя'\n        onChange={handleChange}\n        errors={errors.name}\n        value={values.name || ''}\n        disabled={props.disabled}\n      />\n    </PopupForm>\n  );\n}\n","import React from 'react';\nimport PopupForm from '../PopupForm/PopupForm';\n\nfunction InfoTooltip(props) {\n  return (\n    <PopupForm\n      infoTooltip={true}\n      title=\"Пользователь успешно зарегистрирован!\"\n      linkText=\"Войти\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n    />\n  );\n}\n\nexport default InfoTooltip;\n","import { MAIN_BASE_URL, SERVER_ERROR_MESSAGE } from './config';\n\nexport const register = (email, password, name) => fetch(`${MAIN_BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password, name }),\n});\n\nexport const authorize = (email, password) => fetch(`${MAIN_BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  credentials: 'include',\n  body: JSON.stringify({ email, password }),\n});\n\nexport const getUserInfo = (token) => fetch(`${MAIN_BASE_URL}/users/me`, {\n  method: 'GET',\n  credentials: 'include',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json();\n    }\n    return res.json();\n  })\n  .catch(() => ({\n    message: SERVER_ERROR_MESSAGE,\n  }));\n\nexport const getSavedArticles = () => fetch(`${MAIN_BASE_URL}/articles`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n});\n\nexport const postArticle = (keyword, title, text, date, source, link, image) => fetch(`${MAIN_BASE_URL}/articles`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n  body: JSON.stringify({\n    keyword, title, text, date, source, link, image,\n  }),\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json();\n    }\n    return res.json();\n  })\n  .catch(() => ({\n    message: SERVER_ERROR_MESSAGE,\n  }));\n\nexport const deleteArticle = (id) => fetch(`${MAIN_BASE_URL}/articles/${id}`, {\n  method: 'DELETE',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n});\n","import React from 'react';\nimport {\n  Route, Switch, useLocation, useHistory,\n} from 'react-router-dom';\n\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport Login from '../Popups/Login/Login';\nimport Register from '../Popups/Register/Register';\nimport InfoTooltip from '../Popups/InfoTooltip/InfoTooltip';\nimport { getArticles } from '../../utils/newsApi';\nimport * as mainApi from '../../utils/mainApi';\n\nimport '../../vendor/normalize.css';\nimport '../../vendor/fonts.css';\nimport './App.css';\nimport { SERVER_ERROR_MESSAGE } from '../../utils/config';\n\nfunction App() {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [disabled, setDisabled] = React.useState(false);\n\n  // попапы\n  const [isLoginOpen, setLoginOpen] = React.useState(false);\n  const [isRegisterOpen, setRegisterOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n\n  // мобильное меню\n  const [classBurgerMenu, setClassBurgerMenu] = React.useState('');\n  const [isShowMenu, setIsShowMenu] = React.useState('');\n  const [isShowOverlay, setIsShowOverlay] = React.useState('');\n  const [isMenuMobile, setMenuMobile] = React.useState(false);\n\n  // ошибка регистрации\n  const [authError, setAuthError] = React.useState('');\n\n  // статьи\n  const [searchResultArray, setSearchResultArray] = React.useState([]); // статьи из поиска\n  const [savedArticlesArray, setSavedArticlesArray] = React.useState([]); // сохраненные статьи\n  const [rowArticles, setRowArticles] = React.useState(1); // штук в ряд\n  const [loading, setLoading] = React.useState(false);\n  const [notFound, setNotFound] = React.useState(false);\n  const [isSearchError, setSearchError] = React.useState(false); // сервер со статьями отвалился\n  const [valueSearchInput, setValueSearchInput] = React.useState(''); // значение инпута\n  const [valueSearchInputError, setValueSearchInputError] = React.useState(false);\n\n  // открытие попапов\n  function handleLoginOpen() {\n    setLoginOpen(true);\n    setRegisterOpen(false);\n    setInfoTooltipOpen(false);\n    setAuthError('');\n  }\n\n  function handleRegisterOpen() {\n    setLoginOpen(false);\n    setRegisterOpen(true);\n    setAuthError('');\n  }\n\n  function handleInfoTooltipOpen() {\n    setRegisterOpen(false);\n    setLoginOpen(true);\n    setAuthError('');\n  }\n\n  function closeAllPopups() {\n    setLoginOpen(false);\n    setRegisterOpen(false);\n    setInfoTooltipOpen(false);\n    setAuthError('');\n  }\n\n  function handleEsc(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  // Мобильное меню\n  function handleMenuMobile() {\n    setMenuMobile(!isMenuMobile);\n  }\n\n  function showMenu() {\n    if (classBurgerMenu === 'button-burger-menu_open') {\n      setClassBurgerMenu('');\n      setIsShowOverlay('');\n      handleMenuMobile();\n    } else {\n      setClassBurgerMenu('button-burger-menu_open');\n      setIsShowOverlay('header__overlay_open');\n      handleMenuMobile();\n    }\n    if (isShowMenu === '') {\n      setIsShowMenu('menu-mobile_open');\n    } else {\n      setIsShowMenu('');\n    }\n  }\n\n  // Регистрация / авторизация / выход\n\n  // Загрузить сохраненные статьи\n  function getSavedArticles() {\n    mainApi.getSavedArticles()\n      .then((res) => res.json())\n      .then((news) => {\n        setSavedArticlesArray(news.data);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  // Взять куку, если есть\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi.getUserInfo(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setCurrentUser(res.name);\n          getSavedArticles();\n        })\n        .catch((err) => console.log(err));\n    }\n  }, []);\n\n  // Регистрация;\n  function handleRegister(emailUser, passwordUser, nameUser) {\n    setDisabled(true);\n    setAuthError('');\n    mainApi.register(emailUser, passwordUser, nameUser)\n      .then((res) => {\n        if (!res.ok) {\n          return res.json();\n        }\n        return res.json();\n      })\n      .then((res) => {\n        if (res.name) {\n          setRegisterOpen(false);\n          setInfoTooltipOpen(true);\n        } else {\n          setAuthError(res.message).finally(() => setDisabled(false));\n        }\n      })\n      .catch(() => ({\n        message: SERVER_ERROR_MESSAGE,\n      }))\n      .finally(() => setDisabled(false));\n  }\n\n  // Авторизация\n  function handleLogin(email, password) {\n    setDisabled(true);\n    setAuthError('');\n    mainApi.authorize(email, escape(password))\n      .then((res) => {\n        if (!res.ok) {\n          return res.json();\n        }\n        return res.json();\n      })\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          setLoggedIn(true);\n          setLoginOpen(false);\n          //\n          mainApi.getUserInfo(data)\n            .then((res) => {\n              if (res.name) {\n                setCurrentUser(res.name);\n              } else {\n                setAuthError(res.message);\n              } // catch в mainApi.js\n            });\n          //\n        } else {\n          setAuthError(data.message);\n        } // catch в mainApi.js\n      })\n      .catch(() => ({\n        message: SERVER_ERROR_MESSAGE,\n      }))\n      .finally(() => setDisabled(false));\n  }\n\n  // Открывать попап с Авторизацией,\n  // если незалогиненный пользователь пришёл по роуту с сохранёнками\n  React.useEffect(() => {\n    if (!loggedIn && pathname === '/saved-news') {\n      setLoginOpen(true);\n    }\n  }, [loggedIn, pathname]);\n\n  // Выход\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setCurrentUser('');\n    history.push('/');\n  }\n\n  // Переключить кнопку при выходе/входе\n  function handleAuthButton() {\n    showMenu();\n    if (loggedIn) {\n      handleSignOut();\n    } else {\n      handleLoginOpen();\n    }\n  }\n\n  // статьи\n\n  // Найти статьи\n  function getArticlesFromAPI() {\n    setDisabled(true);\n    getArticles(valueSearchInput)\n      .then((data) => {\n        if (data.articles.length !== 0) {\n          setSearchResultArray(data.articles);\n        } else {\n          setNotFound(true);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setSearchError(true);\n      })\n      .finally(() => {\n        setLoading(false);\n        setDisabled(false);\n      });\n  }\n\n  function handleNewsSearch() {\n    setSearchResultArray([]);\n    setNotFound(false);\n    setValueSearchInputError(false);\n    setLoading(true);\n    setRowArticles(1);\n    getArticlesFromAPI();\n  }\n\n  // Показать еще статьиuseEffect\n  function handleShowMoreArticles() {\n    setRowArticles(rowArticles + 1);\n  }\n\n  // Убрать статью из сохраненок\n  function deleteAnArticleFromTheSavedList(data) {\n    mainApi.deleteArticle(data._id)\n      .then((res) => {\n        if (!res.ok) {\n          return res.json();\n        }\n        return res.json();\n      })\n      .then((newCard) => setSavedArticlesArray(savedArticlesArray\n        .filter((item) => (item._id === data._id ? !newCard : item))))\n      .catch((err) => console.log(`Ошибка при удалении карточки: ${err}`));\n  }\n\n  // Добавить статью в сохраненки (Функция для главной страницы)\n  function addAnArticleToTheSavedList(article) {\n    if (!loggedIn) {\n      handleRegisterOpen();\n    } else {\n      const saved = savedArticlesArray\n        .find((i) => i.title === article.title\n          && i.date === article.date\n          && i.source === article.source);\n      if (!saved) {\n        mainApi.postArticle(\n          valueSearchInput,\n          article.title || ' ',\n          article.text || ' ',\n          article.date || ' ',\n          article.source || ' ',\n          article.link || 'https://www.fed.students.nomoreparties.xyz',\n          article.image || 'https://media.menacatalyst.ps/cached_uploads/resize/400/500/default-image.jpg',\n        )\n          .then((newArticle) => {\n            if (newArticle.data) {\n              setSavedArticlesArray([...savedArticlesArray, newArticle.data]);\n            } else {\n              console.log('Статья не сохранилась');\n            }\n          })\n          .catch((err) => console.log(`Статья не сохранилась. Ошибка: ${err}`));\n        return;\n      }\n      deleteAnArticleFromTheSavedList(saved);\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header\n        pathname={pathname}\n        loggedIn={loggedIn}\n        onClick={handleAuthButton}\n        showMenu={showMenu}\n        isShowMenu={isShowMenu}\n        isShowOverlay={isShowOverlay}\n        isMenuMobile={isMenuMobile}\n        handleMenuMobile={handleMenuMobile}\n        classBurgerMenu={classBurgerMenu}\n      />\n      <Switch>\n\n        <Route exact path=\"/\">\n          <Main\n            disabled={disabled}\n            loading={loading}\n            setLoading={setLoading}\n            notFound={notFound}\n            setNotFound={setNotFound}\n            isSearchError={isSearchError}\n            pathname={pathname}\n            loggedIn={loggedIn}\n            rowArticles={rowArticles}\n            handleShowMoreArticles={handleShowMoreArticles}\n            handleNewsSearch={handleNewsSearch}\n            addAnArticleToTheSavedList={addAnArticleToTheSavedList}\n            searchResultArray={searchResultArray}\n            valueSearchInput={valueSearchInput}\n            valueSearchInputError={valueSearchInputError}\n            setValueSearchInput={setValueSearchInput}\n            setValueSearchInputError={setValueSearchInputError}\n            savedArticlesArray={savedArticlesArray}\n          />\n        </Route>\n\n        <ProtectedRoute\n            path=\"/saved-news\"\n            component={SavedNews}\n            savedArticlesArray={savedArticlesArray}\n            pathname={pathname}\n            loggedIn={loggedIn}\n            valueSearchInput={valueSearchInput}\n            deleteAnArticleFromTheSavedList={deleteAnArticleFromTheSavedList}\n        />\n      </Switch>\n      <Footer/>\n      <Login\n        isOpen={isLoginOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleRegisterOpen}\n        handleLogin={handleLogin}\n        authError={authError}\n        disabled={disabled}\n      />\n      <Register\n        isOpen={isRegisterOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleLoginOpen}\n        onInfoTooltipOpen={handleInfoTooltipOpen}\n        handleRegister={handleRegister}\n        authError={authError}\n        disabled={disabled}\n      />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleLoginOpen}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import {\n  NEWS_BASE_URL,\n  NEWS_API_KEY,\n  PAGE_SIZE,\n  CURRENT_DATE,\n  ONE_WEEK_AGO_FROM_THE_CURRENT_DATE,\n} from './config';\n\n// запрос — то, что ввёл пользователь в поиск;\n// apiKey — ключ, который вы получите после регистрации;\n// from — 7 дней назад от текущей даты;\n// to — текущая дата;\n// pageSize — максимально допустимый массив.\n// Выберите 100 статей — это ограничение бесплатной версии.\n\nexport const getArticles = (searchRequest) => {\n  const URL = `${NEWS_BASE_URL}?`\n    + `q=${searchRequest}&`\n    + `apiKey=${NEWS_API_KEY}&`\n    + `from=${ONE_WEEK_AGO_FROM_THE_CURRENT_DATE}&`\n    + `to=${CURRENT_DATE}&`\n    + `pageSize=${PAGE_SIZE}`;\n\n  return fetch(URL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ну вот, новости недоступны (Ошибка: ${res.status})`));\n    });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App/>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}