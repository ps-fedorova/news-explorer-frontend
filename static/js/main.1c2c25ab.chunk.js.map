{"version":3,"sources":["images/icon_facebook_square.svg","images/logout_main.svg","images/logout_saved_news.svg","images/author.jpg","images/not-found.svg","images/icon_github.svg","images/icon_facebook_circle.svg","contexts/CurrentUserContext.js","components/Button/Button.js","components/ButtonBurgerMenu/ButtonBurgerMenu.js","components/Link/Link.js","components/Navigation/Navigation.js","components/MenuMobile/MenuMobile.js","components/Header/Header.js","utils/config.js","components/SearchForm/SearchForm.js","components/About/About.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/Preloader/Preloader.js","components/NotFound/NotFound.js","components/Main/Main.js","components/ProtectedRoute/ProtectedRoute.js","components/SavedNewsHeader/SavedNewsHeader.js","utils/declOfNum.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","components/Popups/PopupInput/PopupInput.js","components/Popups/PopupForm/PopupForm.js","utils/useFormWithValidation.js","components/Popups/Login/Login.js","components/Popups/Register/Register.js","components/Popups/InfoTooltip/InfoTooltip.js","utils/mainApi.js","components/App/App.js","utils/newsApi.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Button","props","page","pathname","onClick","type","disabled","className","header","menuMobile","searchForm","cardList","popup","image","classNameTextBtn","title","value","classNameImgBtn","src","alt","ButtonBurgerMenu","buttonBurgerMenu","isMenuMobile","classBurgerMenu","showMenu","Link","navLink","to","linkImage","classNameLink","href","target","rel","classNameImage","Navigation","main","classNameTextMain","classNameTextSavedNews","loggedIn","MenuMobile","currentUser","useContext","isShowMenu","logout","handleAuthButton","Header","classNameLogo","logoutMain","logoutSavedNews","classBackground","handleEsc","evt","key","useEffect","window","addEventListener","removeEventListener","isShowOverlay","SERVER_ERROR_MESSAGE","MAIN_BASE_URL","options","year","month","day","CURRENT_DATE","Intl","DateTimeFormat","format","Date","now","ONE_WEEK_AGO_FROM_THE_CURRENT_DATE","SearchForm","useState","isSubmitted","setIsSubmitted","isSearchInputValid","setIsSearchInputValid","classError","setClassError","timer","setTimer","id","useRef","clear","clearInterval","current","setInterval","time","placeholder","valueSearchInput","onChange","setValueSearchInput","trimStart","validity","valid","required","preventDefault","handleNewsSearch","About","author","NewsCard","date","card","publishedAt","cardSaved","fullDate","toLocaleString","getFullYear","handleCardSavedClick","addAnArticleToTheSavedList","keyword","text","description","source","name","link","url","urlToImage","deleteAnArticleFromTheSavedList","savedArticlesArray","some","i","NewsCardList","arrayOfArticles","rowArticles","Array","from","searchResultArray","slice","map","length","handleShowMoreArticles","reverse","Preloader","NotFound","notFound","notFoundImg","Main","setLoading","setNotFound","setValueSearchInputError","loading","isSearchError","valueSearchInputError","ProtectedRoute","Component","component","localStorage","getItem","setLoginOpen","SavedNewsHeader","number","savedText","keywords","art","reduce","acc","undefined","sortedKey","Object","keys","sort","a","b","item","displayKeywords","SavedNews","Footer","iconGithub","minWidth","iconFacebookSquare","maxWidth","iconFacebookCircle","PopupInput","label","minLength","maxLength","isValid","errors","FormPopup","isOpen","onSubmit","noValidate","onClose","children","infoTooltip","authError","handleSubmit","isDisabled","submitButtonText","onChangeForm","login","useFormWithValidation","values","setValues","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","validationMessage","closest","checkValidity","Login","handleLogin","email","password","inputLabelClassName","inputFieldClassName","Register","register","formName","handleRegister","InfoTooltip","linkText","getUserInfo","token","fetch","method","credentials","headers","Authorization","then","res","ok","json","catch","message","App","useLocation","history","useHistory","setLoggedIn","setCurrentUser","setDisabled","isLoginOpen","isRegisterOpen","setRegisterOpen","isInfoTooltipOpen","setInfoTooltipOpen","setClassBurgerMenu","setIsShowMenu","setIsShowOverlay","setMenuMobile","setAuthError","setSearchResultArray","setSavedArticlesArray","setRowArticles","setSearchError","handleLoginOpen","handleRegisterOpen","closeAllPopups","getSavedArticles","news","data","err","console","log","removeItem","getArticlesFromAPI","searchRequest","URL","Promise","reject","Error","status","getArticles","articles","finally","_id","newCard","filter","jwt","mainApi","Provider","push","exact","path","article","saved","find","body","JSON","stringify","newArticle","Accept","escape","setItem","onInfoTooltipOpen","emailUser","passwordUser","nameUser","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.1c2c25ab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon_facebook_square.4b12ed39.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout_main.3c57fa38.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout_saved_news.37f19cfe.svg\";","module.exports = __webpack_public_path__ + \"static/media/author.ead9e275.jpg\";","module.exports = __webpack_public_path__ + \"static/media/not-found.175a96ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_github.5bf37e74.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon_facebook_circle.e699115e.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext(null);\r\n\r\nexport { CurrentUserContext as default };\r\n","import React from 'react';\nimport './Button.css';\n\nfunction Button(props) {\n  const page = (props.pathname === '/saved-news')\n    ? 'button_type_outline-saved-news'\n    : 'button_type_outline-main';\n\n  return (\n    // здесь про размер кнопки и основные атрибуты\n    <button\n      onClick={props.onClick}\n      type={props.type}\n      disabled={props.disabled}\n      className={`button\n    ${props.header ? `${page} header__button` : ''}\n    ${props.menuMobile ? 'menu-mobile__button' : ''}\n    ${props.searchForm ? 'search-form__button' : ''}\n    ${props.cardList ? 'news-card-list__button' : ''}\n    ${props.popup ? 'popup__button' : ''}\n    `}\n    >\n      {props.image\n\n        // если кнопка содержит картинку (как в хедере)\n        ? <span className=\"button__container button__container_position\">\n          <span className={`button__text ${props.classNameTextBtn}`} title={props.title}>\n            {props.value}\n          </span>\n          <img className={props.classNameImgBtn} src={props.src} alt={props.alt}/>\n        </span>\n\n        // если в кнопке только текст\n        : <span className=\"button__container\">\n          <span className={`button__text ${props.classNameTextBtn}`} title={props.title}>\n            {props.value}\n          </span>\n        </span>\n      }\n    </button>\n  );\n}\n\nexport default Button;\n","import React from 'react';\nimport './ButtonBurgerMenu.css';\n\nfunction ButtonBurgerMenu(props) {\n  const buttonBurgerMenu = `button-burger-menu__button ${(props.pathname === '/' || props.isMenuMobile)\n    ? ''\n    : 'button-burger-menu_saved-news'}`;\n\n  return (\n    <div className=\"button-burger-menu\">\n      <button\n        className={`${buttonBurgerMenu}  ${props.classBurgerMenu}`}\n        onClick={props.showMenu} type='button'\n      />\n    </div>\n  );\n}\n\nexport default ButtonBurgerMenu;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Link.css';\n\nfunction Link(props) {\n  function linkFunction() {\n    if (props.navLink) { // если навигация\n      return (\n        <NavLink\n          title={props.title}\n          className={`link ${props.className}`}\n          to={props.to}\n        >\n          {props.value}\n        </NavLink>\n      );\n    }\n    if (props.linkImage) { // если ссылка с картинкой\n      return (\n        <a\n          title={props.title}\n          className={`link ${props.classNameLink}`}\n          href={props.href}\n          target='_blank'\n          rel='noopener noreferrer'\n\n        >\n          <img\n            src={props.src}\n            alt={props.alt}\n            className={props.classNameImage}\n          />\n        </a>);\n    } // и просто ссылка\n    return (\n      <a\n        title={props.title}\n        className={`link ${props.className}`}\n        href={props.href}\n        target='_blank'\n        rel='noopener noreferrer'\n      >\n        {props.value}\n      </a>);\n  }\n\n  return (\n    <>\n      {linkFunction()}\n    </>\n  );\n}\n\nexport default Link;\n","import React from 'react';\nimport Link from '../Link/Link';\nimport './Navigation.css';\n\n// Навигация входит в MenuMobile, контекст там.\n// Не могу перетащить сюда кнопку,\n// потому что они в хедере и мобильном меню разные\nfunction Navigation(props) {\n  const main = (props.pathname === '/' || props.isMenuMobile);\n  const classNameTextMain = `nav__text ${main ? 'nav__text_selected' : 'nav__text_saved-news'}`;\n  const classNameTextSavedNews = `nav__text ${main ? '' : 'nav__text_saved-news nav__text_selected-saved-news'}`;\n\n  return (\n    <nav className=\"nav\">\n      <ul className=\"nav__list\">\n        <li className=\"nav__item\">\n          <Link navLink={true} title=\"Перейти на страницу с поиском\"\n                className={classNameTextMain} to=\"/\" value=\"Главная\"/>\n        </li>\n        {props.loggedIn && <li className=\"nav__item\">\n          <Link navLink={true} title=\"Перейти на страницу с сохранёнными статьями\"\n                className={classNameTextSavedNews}\n                to=\"/saved-news\" value=\"Сохранённые статьи\"/>\n        </li>\n        }\n      </ul>\n    </nav>\n  );\n}\n\nexport default Navigation;\n","import React from 'react';\nimport './MenuMobile.css';\nimport Button from '../Button/Button';\nimport Navigation from '../Navigation/Navigation';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\n\nfunction MenuMobile(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  return (\n    <div className={`menu-mobile ${props.isShowMenu}`}>\n      <div className='menu-mobile__container'>\n        <Navigation loggedIn={props.loggedIn}/>\n        {props.loggedIn\n          ? <Button\n            menuMobile={true}\n            image={true}\n            className='menu-mobile__button'\n            value={currentUser}\n            src={props.logout}\n            alt=\"Выход\"\n            handleAuthButton={props.handleAuthButton}\n            onClick={props.onClick}\n          />\n          : <Button\n            className='menu-mobile__button'\n            value='Авторизоваться'\n            menuMobile={true}\n            handleAuthButton={props.handleAuthButton}\n            onClick={props.onClick}\n          />\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default MenuMobile;\n","import React from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport Button from '../Button/Button';\nimport ButtonBurgerMenu from '../ButtonBurgerMenu/ButtonBurgerMenu';\nimport MenuMobile from '../MenuMobile/MenuMobile';\nimport Link from '../Link/Link';\nimport Navigation from '../Navigation/Navigation';\nimport './Header.css';\n\nimport logoutMain from '../../images/logout_main.svg';\nimport logoutSavedNews from '../../images/logout_saved_news.svg';\n\nfunction Header(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const main = (props.pathname === '/' || props.isMenuMobile);\n  const classNameLogo = `header__logo ${main ? '' : 'header__logo_saved-news'}`;\n  const classNameTextBtn = `header__text header__text_button ${main ? '' : 'header__text_saved-news'}`;\n  const logout = main ? logoutMain : logoutSavedNews;\n  const classBackground = `header__background-img ${main ? '' : 'header__background-img_saved-news'}`;\n\n  function handleEsc(evt) {\n    if (evt.key === 'Escape' && props.isMenuMobile) {\n      props.showMenu();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  function handleOverlayClose() {\n    if (props.isMenuMobile) {\n      props.showMenu();\n    }\n  }\n\n  return (\n    <>\n      <header className=\"header\">\n\n        <div className=\"header__background-position\">\n          <div className={classBackground}/>\n        </div>\n        <div className=\"header__container\">\n\n          <span className=\"header__border\"/>\n          <Link navLink={true} title=\"Перейти на страницу с поиском\" className={classNameLogo} to='/'\n                value=\"NewsExplorer\"/>\n          <div className=\"header__menu\">\n\n            <Navigation\n              pathname={props.pathname}\n              isMenuMobile={props.isMenuMobile}\n              loggedIn={props.loggedIn}\n            />\n            <div className=\"header__button-container\">\n\n              {props.loggedIn\n                ? <Button\n                  title=\"Выход\"\n                  value={currentUser}\n                  pathname={props.pathname}\n                  image={true}\n                  header={true}\n                  classNameImgBtn=\"header__button-img\"\n                  classNameTextBtn={classNameTextBtn}\n                  src={logout}\n                  alt=\"Выход\"\n                  onClick={props.onClick}\n                />\n\n                : < Button\n                  title=\"Авторизоваться\"\n                  value=\"Авторизоваться\"\n                  pathname={props.pathname}\n                  header={true}\n                  classNameImgBtn=\"header__button-img\"\n                  classNameTextBtn={classNameTextBtn}\n                  onClick={props.onClick}\n                />\n              }\n\n            </div>\n          </div>\n          <ButtonBurgerMenu\n            pathname={props.pathname}\n            showMenu={props.showMenu}\n            classBurgerMenu={props.classBurgerMenu}\n            isMenuMobile={props.isMenuMobile}\n          />\n        </div>\n        <MenuMobile\n          isShowMenu={props.isShowMenu}\n          loggedIn={props.loggedIn}\n          logout={logout}\n          onClick={props.onClick}\n        />\n        {/* включить */}\n        <div onClick={handleOverlayClose} className={`header__overlay ${props.isShowOverlay}`}/>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export const SERVER_ERROR_MESSAGE = 'Во время запроса произошла ошибка. '\n  + 'Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\n\nexport const NEWS_BASE_URL = 'https://nomoreparties.co/news/v2/everything';\nexport const NEWS_API_KEY = '5a8dfbd5887c4367be2a938a68940ebf';\n// export const MAIN_BASE_URL = 'https://www.api.fed.students.nomoreparties.xyz';\nexport const MAIN_BASE_URL = 'http://localhost:3000';\n\n// количество статей в одной выдаче\nexport const SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT = 3;\n\n// доступный массив статей\nexport const PAGE_SIZE = 100;\n\n// дата\nconst locales = 'sv'; // 2020-11-11\nconst options = { year: 'numeric', month: '2-digit', day: '2-digit' };\nconst week = 7 * 24 * 60 * 60 * 1000;\n\nexport const CURRENT_DATE = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now());\n\nexport const ONE_WEEK_AGO_FROM_THE_CURRENT_DATE = new Intl.DateTimeFormat(locales, options)\n  .format(Date.now() - week);\n\n// Время до исчезания надписи \"Нужно ввести ключевое слово\"\nexport const TIME_IN_SEC_DISPLAY_EMPTY_SEARCH = 5;\n","import React from 'react';\nimport './SearchForm.css';\nimport Button from '../Button/Button';\n\nimport { TIME_IN_SEC_DISPLAY_EMPTY_SEARCH } from '../../utils/config';\n\nfunction SearchForm(props) {\n  const [isSubmitted, setIsSubmitted] = React.useState(false); // нажата кнопка?\n  // введенные данные валидны?\n  const [isSearchInputValid, setIsSearchInputValid] = React.useState(false);\n  const [classError, setClassError] = React.useState(''); // состояние ошибки\n\n  // Следующая дикая конструкция нужна чтобы предупреждение исчезало через 5 секунд\n  const [timer, setTimer] = React.useState(0);\n\n  const id = React.useRef(0);\n  const clear = () => {\n    window.clearInterval(id.current);\n  };\n\n  React.useEffect(() => {\n    id.current = window.setInterval(() => {\n      setTimer((time) => time - 1);\n    }, 1000);\n    return () => clear();\n  }, [isSubmitted]);\n\n  React.useEffect(() => {\n    if (timer === 0 || isSubmitted === false) {\n      clear();\n      setIsSubmitted(false);\n      setClassError('');\n      setIsSearchInputValid(false);\n    }\n  }, [timer, isSubmitted]);\n\n  // инпут\n  function handleValueInputSearchChange(evt) {\n    props.setValueSearchInput(evt.target.value.trimStart());\n    setIsSubmitted(false);\n    if (!evt.target.validity.valid) {\n      setIsSearchInputValid(false);\n    } else {\n      setIsSearchInputValid(true);\n    }\n  }\n\n  // кнопка\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    setIsSubmitted(true);\n    setTimer(timer + TIME_IN_SEC_DISPLAY_EMPTY_SEARCH);\n\n    if (!isSearchInputValid && props.valueSearchInput === '') {\n      setClassError('search-form__error_open');\n    } else {\n      setClassError('');\n      props.handleNewsSearch();\n    }\n  }\n\n  return (\n    <section className=\"search-form\">\n      <div className=\"search-form__container\">\n        <h1 className=\"search-form__title\">Что творится в мире?</h1>\n        <p className=\"search-form__subtitle\">\n          Находите самые свежие статьи на&nbsp;любую тему и&nbsp;сохраняйте\n          в&nbsp;своём личном кабинете.\n        </p>\n\n        <form className=\"search-form__input-container\">\n          <input\n            title=\"Введите запрос\"\n            type=\"text\"\n            className=\"search-form__input\"\n            placeholder=\"Введите тему новости\"\n            value={props.valueSearchInput}\n            onChange={handleValueInputSearchChange}\n            required\n            disabled={props.disabled}\n          />\n          <Button\n            searchForm={true}\n            value=\"Искать\"\n            className=\"search-form__button\"\n            type=\"submit\"\n            onClick={handleSubmit}\n            disabled={props.disabled}\n          />\n        </form>\n        <span\n          className={`search-form__error ${classError}`}>\n          Нужно ввести ключевое слово\n        </span>\n      </div>\n    </section>\n  );\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './About.css';\nimport author from '../../images/author.jpg';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <div className=\"about__container\">\n        <img className=\"about__author-img\" src={author} alt=\"Фото автора\"/>\n        <div className=\"about__container-description\">\n          <h2 className=\"about__title-description\">Об авторе</h2>\n          <p className=\"about__text-description\">\n            Это блок с описанием автора проекта.\n            Здесь следует указать, как вас зовут, чем вы занимаетесь,\n            какими технологиями разработки владеете.\n          </p>\n          <p className=\"about__text-description\">\n            Также можно рассказать о процессе обучения в Практикуме,\n            чему вы тут научились, и чем можете помочь потенциальным заказчикам.\n          </p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default About;\n","import React from 'react';\nimport './NewsCard.css';\n\nfunction NewsCard(props) {\n  const date = new Date(props.main ? props.card.publishedAt : props.cardSaved.date);\n  const fullDate = `${date.toLocaleString('ru', {\n    day: 'numeric',\n    month: 'long',\n  })}, ${date.getFullYear()}`;\n\n  function handleCardSavedClick() {\n    props.addAnArticleToTheSavedList({\n      keyword: props.valueSearchInput,\n      title: props.card.title,\n      text: props.card.description,\n      date: props.card.publishedAt,\n      source: props.card.source.name,\n      link: props.card.url,\n      image: props.card.urlToImage,\n    });\n  }\n\n  function deleteAnArticleFromTheSavedList() {\n    props.deleteAnArticleFromTheSavedList(props.cardSaved);\n  }\n\n  function displayMark() {\n    if (props.loggedIn && (props.pathname === '/')) {\n      return (\n        <>\n          <button\n            className={\n              `news-card__items-in-img news-card__mark\n            ${!(props.savedArticlesArray.some((i) => i.title === props.card.title))\n                ? 'news-card__mark_type_save'\n                : 'news-card__mark_type_saved'}`\n            }\n            onClick={handleCardSavedClick}\n          />\n        </>\n      );\n    }\n    if (!props.loggedIn && (props.pathname === '/')) {\n      return (\n        <>\n          <button\n            className=\"news-card__items-in-img news-card__mark news-card__mark_type_save\"\n            onClick={props.addAnArticleToTheSavedList}\n          />\n          <p className=\"news-card__items-in-img news-card__notice news-card__notice_main\">\n            Войдите, чтобы сохранять статьи\n          </p>\n        </>\n      );\n    }\n    // if (props.pathname === '/saved-news') {\n    return (\n      <>\n        <button\n          className=\"news-card__items-in-img news-card__mark news-card__mark_type_trashcan\"\n          onClick={deleteAnArticleFromTheSavedList}\n        />\n        <p className=\"news-card__items-in-img news-card__notice\">Убрать из сохранённых</p>\n      </>\n    );\n    // }\n  }\n\n  /// ////////////////\n  return (\n    <li className=\"news-card\">\n      <a title=\"Открыть статью в новой вкладке\" href={props.main ? props.card.url : props.cardSaved.link}\n         className=\"link news-card__link-img\" target=\"_blank\"\n         rel='noopener noreferrer'>\n        <img className=\"news-card__image\"\n             src={props.main ? props.card.urlToImage : props.cardSaved.image}\n             alt={props.main ? props.card.title : props.cardSaved.title}\n        />\n      </a>\n\n      {\n        (props.pathname === '/')\n          ? <></>\n          : < div className=\"news-card__items-in-img news-card__keyword-container\">\n            <p title={props.cardSaved.keyword} className=\"news-card__keyword\">{props.cardSaved.keyword}</p>\n          </div>\n      }\n\n      <div className=\"news-card__image-container\">\n        <>{displayMark()}</>\n      </div>\n\n      <div className=\"news-card__text-container\">\n        <span className=\"news-card__date\">{fullDate}</span>\n        <a\n          title=\"Открыть статью в новой вкладке\"\n          className=\"news-card__link\"\n          href={props.main ? props.card.url : props.cardSaved.link}\n          target=\"_blank\"\n          rel='noopener noreferrer'>\n          <h3 className=\"news-card__title\">{props.main ? props.card.title : props.cardSaved.title}</h3>\n        </a>\n        <p className=\"news-card__content\">{props.main ? props.card.description : props.cardSaved.text}</p>\n        <span className=\"news-card__source\">{props.main ? props.card.source.name : props.cardSaved.source}</span>\n      </div>\n    </li>\n  );\n}\n\nexport default NewsCard;\n","import React from 'react';\n\nimport NewsCard from '../NewsCard/NewsCard';\nimport Button from '../Button/Button';\n\nimport { SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT } from '../../utils/config';\n\nimport './NewsCardList.css';\n\nfunction NewsCardList(props) {\n  const main = (props.pathname === '/');\n\n  const arrayOfArticles = props.rowArticles * SERIES_OF_ARTICLES_IN_A_SINGLE_SEARCH_RESULT;\n\n  return (\n    <section className=\"news-card-list\">\n      <div className=\"news-card-list__container\">\n\n        {/* Главная */}\n        {main\n          ? <>\n            <h3 className=\"news-card-list__title\">Результаты поиска</h3>\n            <ul className=\"news-card-list__list\">\n              {Array.from(props.searchResultArray)\n                .slice(0, arrayOfArticles)\n                .map((card, key) => (\n                <NewsCard\n                  main={props.main}\n                  key={key}\n                  card={card}\n                  pathname={props.pathname}\n                  loggedIn={props.loggedIn}\n                  addAnArticleToTheSavedList={props.addAnArticleToTheSavedList}\n                  savedArticlesArray={props.savedArticlesArray}\n                  valueSearchInput={props.valueSearchInput} // инпут - ключевое слово\n                />\n                ))}\n            </ul>\n            <div className=\"news-card-list__button-position\">\n              {(props.searchResultArray.length - arrayOfArticles > 0)\n              && <Button\n                cardList={true}\n                value=\"Показать еще\"\n                classNameTextBtn='news-card-list__button-text'\n                onClick={props.handleShowMoreArticles}\n              />\n              }\n            </div>\n          </>\n\n        // Сохраненки\n          : <ul className=\"news-card-list__list\">\n            {Array.from(props.savedArticlesArray).reverse()\n              .map((cardSaved, key) => (\n              <NewsCard\n                key={key}\n                cardSaved={cardSaved}\n                pathname={props.pathname}\n                deleteAnArticleFromTheSavedList={props.deleteAnArticleFromTheSavedList}\n              />\n              ))}\n          </ul>}\n      </div>\n    </section>\n  );\n}\n\nexport default NewsCardList;\n","import React from 'react';\nimport './Preloader.css';\n\nfunction Preloader() {\n  return (\n    <section className=\"preloader\">\n      <div className=\"preloader__container\">\n        <i className=\"preloader__circle\"/>\n        <p className=\"preloader__title\">Идет поиск новостей...</p>\n      </div>\n\n    </section>\n  );\n}\n\nexport default Preloader;\n","import React from 'react';\nimport './NotFound.css';\nimport notFoundImg from '../../images/not-found.svg';\n\nfunction NotFound(props) {\n  return (\n    <section className=\"not-found\">\n      <div className=\"not-found__container\">\n        {props.notFound && <img\n          src={notFoundImg}\n          alt=\"Лупа\"\n          className=\"not-found__image\"\n        />\n        }\n        <h2 className=\"not-found__title\">\n          {props.notFound\n            ? 'Ничего не найдено'\n            : 'Во время запроса произошла ошибка.'\n          }\n        </h2>\n        <p className=\"not-found__text\">\n          {props.notFound\n            ? 'К сожалению по вашему запросу ничего не найдено.'\n            : 'Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз'\n          }\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default NotFound;\n","import React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport About from '../About/About';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport Preloader from '../Preloader/Preloader';\nimport NotFound from '../NotFound/NotFound';\nimport './Main.css';\n\nfunction Main(props) {\n  return (\n    <main className=\"main\">\n      <SearchForm\n        disabled={props.disabled}\n        setLoading={props.setLoading}\n        notFound={props.notFound}\n        setNotFound={props.setNotFound}\n        handleNewsSearch={props.handleNewsSearch}\n        valueSearchInput={props.valueSearchInput}\n        setValueSearchInput={props.setValueSearchInput}\n        setValueSearchInputError={props.setValueSearchInputError}\n      />\n      {props.loading && <Preloader/>}\n      {(props.notFound || props.isSearchError)\n      && <NotFound\n        notFound={props.notFound}\n      />}\n      {props.searchResultArray.length !== 0\n      && <NewsCardList\n        main={true}\n        pathname={props.pathname}\n        loggedIn={props.loggedIn}\n        // articlesDefault={props.articlesDefault}\n        searchResultArray={props.searchResultArray}\n        setNotFound={props.setNotFound}\n        valueSearchInput={props.valueSearchInput}\n        valueSearchInputError={props.valueSearchInputError}\n        rowArticles={props.rowArticles}\n        handleShowMoreArticles={props.handleShowMoreArticles}\n        addAnArticleToTheSavedList={props.addAnArticleToTheSavedList}\n        savedArticlesArray={props.savedArticlesArray}\n      />\n      }\n      <About/>\n\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  React.useEffect(() => {\n    if (!props.loggedIn && !localStorage.getItem('jwt')) {\n      props.setLoginOpen(true);\n    }\n  });\n\n  return (\n    <Route>\n      {\n        props.loggedIn ? <Component {...props} /> : <Redirect to='./'/>\n      }\n    </Route>\n  );\n};\nexport default ProtectedRoute;\n","import React from 'react';\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport { declOfNum } from '../../utils/declOfNum';\nimport './SavedNewsHeader.css';\n\nfunction SavedNewsHeader(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function displayKeywords() {\n    let result = '';\n\n    const keywords = props.savedArticlesArray.map((art) => art.keyword)\n      .reduce((acc, key) => {\n        acc[key] = acc[key] === undefined ? 1 : acc[key] += 1;\n        return acc;\n      }, {});\n\n    const sortedKey = Object.keys(keywords).reverse()\n      .map((key) => [key, keywords[key]])\n      .sort((a, b) => b[1] - a[1])\n      .map((item) => item[0]);\n\n    if (sortedKey.length === 1) {\n      result = <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}\n        </span>;\n    } else if (sortedKey.length === 2) {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey[1]}\n          </span>\n      </>;\n    } else if (sortedKey.length === 3) {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}, {sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey[2]}\n          </span>\n      </>;\n    } else {\n      result = <>\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n        {sortedKey[0]}, {sortedKey[1]}</span>\n        &nbsp;и&nbsp;\n        <span className=\"saved-news-header__text saved-news-header__text_bold\">\n          {sortedKey.length - 2}-м другим\n          </span>\n      </>;\n    }\n    return result;\n  }\n\n  const savedText = declOfNum(props.savedArticlesArray.length,\n    ['сохранённая статья', 'сохранённые статьи', 'сохранённых статей']);\n\n  return (\n    <section className=\"saved-news-header\">\n      <h1 className=\"saved-news-header__title\">Сохранённые статьи</h1>\n      <h2 className=\"saved-news-header__subtitle\">\n        <span className=\"saved-news-header__subtitle-text\">\n          {currentUser}, у&nbsp;вас {\n          `${props.savedArticlesArray.length === 0 ? 'ещё нет' : props.savedArticlesArray.length}`} {savedText}\n        </span>\n      </h2>\n      {props.savedArticlesArray.length !== 0\n      && < p className=\"saved-news-header__text\">\n        По ключевым словам:&nbsp;{displayKeywords()}\n      </p>\n      }\n    </section>\n  );\n}\nexport default SavedNewsHeader;\n","export function declOfNum(number, titles) {\n  const cases = [2, 0, 1, 1, 1, 2];\n  return titles[(number % 100 > 4 && number % 100 < 20)\n    ? 2\n    : cases[(number % 10 < 5)\n      ? number % 10\n      : 5]];\n}\n","import React from 'react';\nimport NewsCardList from '../NewsCardList/NewsCardList';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\nimport './SavedNews.css';\n\nfunction SavedNews(props) {\n  return (\n    <main className=\"saved-news\">\n      <SavedNewsHeader\n        savedArticlesArray={props.savedArticlesArray}\n        loggedIn={props.loggedIn}\n      />\n      {props.savedArticlesArray.length !== 0\n      && <NewsCardList\n        pathname={props.pathname}\n        savedArticlesArray={props.savedArticlesArray}\n        valueSearchInput={props.valueSearchInput}\n        deleteAnArticleFromTheSavedList={props.deleteAnArticleFromTheSavedList}\n      />\n      }\n    </main>\n  );\n}\n\nexport default SavedNews;\n","import React from 'react';\n// Потому что в макете иконка Facebook меняется в зависимости от разрешения\nimport MediaQuery from 'react-responsive';\nimport Link from '../Link/Link';\nimport './Footer.css';\n\nimport iconGithub from '../../images/icon_github.svg';\nimport iconFacebookCircle from '../../images/icon_facebook_circle.svg';\nimport iconFacebookSquare from '../../images/icon_facebook_square.svg';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__container\">\n        <p className=\"footer__copyright\">&copy; 2020 Supersite, Powered by News API</p>\n        <div className=\"footer__menu\">\n\n          <ul className=\"footer__list\">\n            <li className=\"footer__item\">\n              <Link navLink={true} title=\"Перейти на Главную\" className=\"footer__link\" to=\"/\" value=\"Главная\"/>\n            </li>\n            <li className=\"footer__item\">\n              <Link title=\"Открыть сайт Яндекс.Практикума в новом окне\" href=\"https://praktikum.yandex.ru\"\n                    className=\"footer__link\" value=\"Яндекс.Практикум\"/>\n            </li>\n          </ul>\n          <ul className=\"footer__list footer__list_social-icon\">\n            <li className=\"footer__item footer__item_social-icon\">\n              <Link linkImage={true} title=\"Открыть Github в новом окне\" href=\"https://github.com/ps-fedorova\"\n                    classNameLink=\"footer__link footer__link_social-icon\" src={iconGithub} alt=\"Github\"\n                    classNameImage=\"footer__social-icon\"/>\n            </li>\n\n            <li className=\"footer__item footer__item_social-icon\">\n              <>\n                <MediaQuery minWidth={961}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookSquare} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n\n                <MediaQuery minWidth={711} maxWidth={960}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookCircle} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n\n                <MediaQuery maxWidth={710}>\n                  <Link linkImage={true} title=\"Открыть Facebook в новом окне\" href=\"https://www.facebook.com/mrs.fedorova.polina\"\n                        classNameLink=\"footer__link footer__link_social-icon\" src={iconFacebookSquare} alt=\"Facebook\"\n                        classNameImage=\"footer__social-icon\"/>\n                </MediaQuery>\n              </>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport './PopupInput.css';\n\nfunction PopupInput(props) {\n  return (\n    <label className=\"input\">{props.label}\n      <input\n        // id={props.id}\n        type={props.type}\n        name={props.name}\n        value={props.value}\n        minLength={props.minLength}\n        maxLength={props.maxLength}\n        onChange={props.onChange}\n        placeholder={props.placeholder}\n        disabled={props.disabled}\n        className='input__field'\n        required\n      />\n      <span className={!props.isValid ? 'input__error' : ''}>\n        {props.errors || ''}\n      </span>\n    </label>\n  );\n}\n\nexport default PopupInput;\n","import React from 'react';\nimport Button from '../../Button/Button';\nimport './PopupForm.css';\n\nfunction FormPopup(props) {\n  return (\n    <div className={`popup ${props.isOpen && 'popup_opened'}`}>\n      <form\n        className='popup__form'\n        onSubmit={props.onSubmit}\n        noValidate\n      >\n        <button\n          className='popup__close-button'\n          onClick={props.onClose}\n          type='button'\n        />\n        <p className='popup__title'>{props.title}</p>\n        <fieldset className='popup__input-container'>\n          {props.children}\n        </fieldset>\n        {!props.infoTooltip && <span className='popup__warning'>\n            {props.authError}\n        </span>}\n        {!props.infoTooltip\n\n        && <Button\n          onClick={props.handleSubmit}\n          popup={true}\n          disabled={props.isDisabled || props.disabled}\n          // disabled={props.disabled}\n          value={props.submitButtonText}\n        >\n        </Button>\n        }\n        <div\n          className={`popup__subtitle ${props.infoTooltip ? 'popup__subtitle_infoTooltip' : ''}`}>{!props.infoTooltip && 'или'}\n          <span className={`popup__link ${props.infoTooltip ? 'popup__link_infoTooltip' : ''}`}\n                onClick={props.onChangeForm}>\n            {!props.login ? ' Войти' : ' Зарегистрироваться'}</span>\n        </div>\n      </form>\n      <div\n        className='popup__overlay'\n        onClick={props.onClose}>\n      </div>\n    </div>\n  );\n}\n\nexport default FormPopup;\n","import React from 'react';\n\nfunction useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n\n  const handleChange = (evt) => {\n    const { target } = evt;\n    const { value } = target;\n    const { name } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: target.validationMessage });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = React.useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid],\n  );\n\n  return {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    setIsValid,\n    resetForm,\n  };\n}\n\nexport default useFormWithValidation;\n","import React from 'react';\nimport PopupInput from '../PopupInput/PopupInput';\nimport PopupForm from '../PopupForm/PopupForm';\nimport useFormWithValidation from '../../../utils/useFormWithValidation';\n\nexport default function Login(props) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen, resetForm]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleLogin(values.email, values.password);\n  }\n  return (\n    <PopupForm\n      login={true}\n      title='Вход'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n      handleSubmit={handleSubmit}\n      submitButtonText='Войти'\n      isDisabled={!isValid}\n      authError={props.authError}\n      disabled={props.disabled}\n    >\n      <PopupInput\n        label='Email'\n        type='email'\n        name='email'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту'\n        onChange={handleChange}\n        errors={errors.email}\n        value={values.email || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Пароль'\n        type='password'\n        name='password'\n        minLength='8'\n        maxLength='30'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль'\n        onChange={handleChange}\n        errors={errors.password}\n        value={values.password || ''}\n        disabled={props.disabled}\n      />\n    </PopupForm>\n  );\n}\n","import React from 'react';\nimport PopupInput from '../PopupInput/PopupInput';\nimport PopupForm from '../PopupForm/PopupForm';\nimport useFormWithValidation from '../../../utils/useFormWithValidation';\n\nexport default function Register(props) {\n  const {\n    values, handleChange, errors, isValid, resetForm,\n  } = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleRegister(values.email, values.password, values.name);\n  }\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen, resetForm]);\n\n  return (\n    <PopupForm\n      register={true}\n      title='Регистрация'\n      formName='registration'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n      onSubmit={handleSubmit}\n      submitButtonText='Зарегистрироваться'\n      isDisabled={!isValid}\n      authError={props.authError}\n      disabled={props.disabled}\n    >\n      <PopupInput\n        label='Email'\n        type='email'\n        name='email'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите почту'\n        onChange={handleChange}\n        errors={errors.email}\n        value={values.email || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Пароль'\n        type='password'\n        name='password'\n        minLength='8'\n        maxLength='30'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите пароль'\n        onChange={handleChange}\n        errors={errors.password}\n        value={values.password || ''}\n        disabled={props.disabled}\n      />\n      <PopupInput\n        label='Имя'\n        type='text'\n        name='name'\n        formName='reg'\n        minLength='2'\n        maxLength='10'\n        inputLabelClassName='popup__input-label'\n        inputFieldClassName='popup__input'\n        placeholder='Введите имя'\n        onChange={handleChange}\n        errors={errors.name}\n        value={values.name || ''}\n        disabled={props.disabled}\n      />\n    </PopupForm>\n  );\n}\n","import React from 'react';\nimport PopupForm from '../PopupForm/PopupForm';\n\nfunction InfoTooltip(props) {\n  return (\n    <PopupForm\n      infoTooltip={true}\n      title=\"Пользователь успешно зарегистрирован!\"\n      linkText=\"Войти\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onChangeForm={props.onChangeForm}\n    />\n  );\n}\n\nexport default InfoTooltip;\n","import { MAIN_BASE_URL, SERVER_ERROR_MESSAGE } from './config';\n\nexport const register = (email, password, name) => fetch(`${MAIN_BASE_URL}/signup`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password, name }),\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json();\n    }\n    return res.json();\n  })\n  .catch(() => ({\n    message: SERVER_ERROR_MESSAGE,\n  }));\n\nexport const authorize = (email, password) => fetch(`${MAIN_BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  credentials: 'include',\n  body: JSON.stringify({ email, password }),\n}).then((res) => {\n  if (!res.ok) {\n    return res.json();\n  }\n  return res.json();\n}).catch(() => ({\n  message: SERVER_ERROR_MESSAGE,\n}));\n\nexport const getUserInfo = (token) => fetch(`${MAIN_BASE_URL}/users/me`, {\n  method: 'GET',\n  credentials: 'include',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${token}`,\n  },\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json();\n    }\n    return res.json();\n  })\n  .catch(() => ({\n    message: SERVER_ERROR_MESSAGE,\n  }));\n\nexport const getSavedArticles = () => fetch(`${MAIN_BASE_URL}/articles`, {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n});\n\nexport const postArticle = (keyword, title, text, date, source, link, image) => fetch(`${MAIN_BASE_URL}/articles`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n  body: JSON.stringify({\n    keyword, title, text, date, source, link, image,\n  }),\n})\n  .then((res) => {\n    if (!res.ok) {\n      return res.json();\n    }\n    return res.json();\n  })\n  .catch(() => ({\n    message: SERVER_ERROR_MESSAGE,\n  }));\n\nexport const deleteArticle = (id) => fetch(`${MAIN_BASE_URL}/articles/${id}`, {\n  method: 'DELETE',\n  headers: {\n    'Content-Type': 'application/json',\n    Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n  },\n  credentials: 'include',\n});\n","import React from 'react';\nimport {\n  Route, Switch, useLocation, useHistory, Redirect,\n} from 'react-router-dom';\n\nimport CurrentUserContext from '../../contexts/CurrentUserContext';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport Login from '../Popups/Login/Login';\nimport Register from '../Popups/Register/Register';\nimport InfoTooltip from '../Popups/InfoTooltip/InfoTooltip';\nimport { getArticles } from '../../utils/newsApi';\nimport * as mainApi from '../../utils/mainApi';\n\nimport '../../vendor/normalize.css';\nimport '../../vendor/fonts.css';\nimport './App.css';\n\nfunction App() {\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [disabled, setDisabled] = React.useState(false);\n\n  // попапы\n  const [isLoginOpen, setLoginOpen] = React.useState(false);\n  const [isRegisterOpen, setRegisterOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n\n  // мобильное меню\n  const [classBurgerMenu, setClassBurgerMenu] = React.useState('');\n  const [isShowMenu, setIsShowMenu] = React.useState('');\n  const [isShowOverlay, setIsShowOverlay] = React.useState('');\n  const [isMenuMobile, setMenuMobile] = React.useState(false);\n\n  // ошибка регистрации\n  const [authError, setAuthError] = React.useState('');\n\n  // статьи\n  const [searchResultArray, setSearchResultArray] = React.useState([]); // статьи из поиска\n  const [savedArticlesArray, setSavedArticlesArray] = React.useState([]); // сохраненные статьи\n  const [rowArticles, setRowArticles] = React.useState(1); // штук в ряд\n  const [loading, setLoading] = React.useState(false);\n  const [notFound, setNotFound] = React.useState(false);\n  const [isSearchError, setSearchError] = React.useState(false); // сервер со статьями отвалился\n  const [valueSearchInput, setValueSearchInput] = React.useState(''); // значение инпута\n  const [valueSearchInputError, setValueSearchInputError] = React.useState(false);\n\n  // открытие попапов\n  function handleLoginOpen() {\n    setLoginOpen(true);\n    setRegisterOpen(false);\n    setInfoTooltipOpen(false);\n    setAuthError('');\n  }\n\n  function handleRegisterOpen() {\n    setLoginOpen(false);\n    setRegisterOpen(true);\n    setAuthError('');\n  }\n\n  function handleInfoTooltipOpen() {\n    setRegisterOpen(false);\n    setLoginOpen(true);\n    setAuthError('');\n  }\n\n  function closeAllPopups() {\n    setLoginOpen(false);\n    setRegisterOpen(false);\n    setInfoTooltipOpen(false);\n    setAuthError('');\n  }\n\n  function handleEsc(evt) {\n    if (evt.key === 'Escape') {\n      closeAllPopups();\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  });\n\n  function showMenu() {\n    if (classBurgerMenu === 'button-burger-menu_open') {\n      setClassBurgerMenu('');\n      setIsShowOverlay('');\n    } else {\n      setClassBurgerMenu('button-burger-menu_open');\n      setIsShowOverlay('header__overlay_open');\n    }\n    if (isShowMenu === '') {\n      setIsShowMenu('menu-mobile_open');\n      setMenuMobile(true);\n    } else {\n      setIsShowMenu('');\n      setMenuMobile(false);\n    }\n  }\n\n  // Регистрация / авторизация / выход\n\n  // Загрузить сохраненные статьи\n  function getSavedArticles() {\n    mainApi.getSavedArticles()\n      .then((res) => res.json())\n      .then((news) => {\n        setSavedArticlesArray(news.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        localStorage.removeItem('jwt');\n      });\n  }\n\n  // Взять куку, если есть\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi.getUserInfo(jwt)\n        .then((res) => {\n          setLoggedIn(true);\n          setCurrentUser(res.name);\n          getSavedArticles();\n        })\n        .catch((err) => {\n          console.log(err);\n          localStorage.removeItem('jwt');\n        });\n    }\n  }, []);\n\n  // Регистрация;\n  function handleRegister(emailUser, passwordUser, nameUser) {\n    setDisabled(true);\n    setAuthError('');\n    mainApi.register(emailUser, passwordUser, nameUser)\n      .then((res) => {\n        if (res.name) {\n          setRegisterOpen(false);\n          setInfoTooltipOpen(true);\n        } else {\n          setAuthError(res.message);\n        }\n      })\n      .finally(() => setDisabled(false));\n  }\n\n  // Авторизация\n  function handleLogin(email, password) {\n    setDisabled(true);\n    setAuthError('');\n    mainApi.authorize(email, escape(password))\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('jwt', data.token);\n          //\n          mainApi.getUserInfo(data)\n            .then((res) => {\n              if (res.name) {\n                setLoggedIn(true);\n                setCurrentUser(res.name);\n                setLoginOpen(false);\n                getSavedArticles();\n              } else {\n                setAuthError(res.message);\n              } // catch в mainApi.js\n            });\n          //\n        } else {\n          setAuthError(data.message);\n        } // catch в mainApi.js\n      })\n      .finally(() => setDisabled(false));\n  }\n\n  // Выход\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setCurrentUser('');\n    history.push('/');\n  }\n\n  // Переключить кнопку при выходе/входе\n  function handleAuthButton() {\n    if (classBurgerMenu === 'button-burger-menu_open') {\n      showMenu();\n    }\n    if (loggedIn) {\n      handleSignOut();\n    } else {\n      handleLoginOpen();\n    }\n  }\n\n  // статьи\n\n  // Найти статьи\n  function getArticlesFromAPI() {\n    setDisabled(true);\n    getArticles(valueSearchInput)\n      .then((data) => {\n        if (data.articles.length !== 0) {\n          setSearchResultArray(data.articles);\n        } else {\n          setNotFound(true);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setSearchError(true);\n      })\n      .finally(() => {\n        setLoading(false);\n        setDisabled(false);\n      });\n  }\n\n  function handleNewsSearch() {\n    setSearchResultArray([]);\n    setNotFound(false);\n    setValueSearchInputError(false);\n    setLoading(true);\n    setRowArticles(1);\n    getArticlesFromAPI();\n  }\n\n  // Показать еще статьи\n  function handleShowMoreArticles() {\n    setRowArticles(rowArticles + 1);\n  }\n\n  // Убрать статью из сохранёнок\n  function deleteAnArticleFromTheSavedList(data) {\n    mainApi.deleteArticle(data._id)\n      .then((res) => {\n        if (!res.ok) {\n          return res.json();\n        }\n        return res.json();\n      })\n      .then((newCard) => setSavedArticlesArray(savedArticlesArray\n        .filter((item) => (item._id === data._id ? !newCard : item))))\n      .catch((err) => console.log(`Ошибка при удалении карточки: ${err}`));\n  }\n\n  // Добавить статью в сохраненки (Функция для главной страницы)\n  function addAnArticleToTheSavedList(article) {\n    if (!loggedIn) {\n      handleRegisterOpen();\n    } else {\n      const saved = savedArticlesArray\n        .find((i) => i.title === article.title\n          && i.date === article.date\n          && i.source === article.source);\n      if (!saved) {\n        mainApi.postArticle(\n          valueSearchInput,\n          article.title || ' ',\n          article.text || ' ',\n          article.date || ' ',\n          article.source || ' ',\n          article.link || 'https://www.fed.students.nomoreparties.xyz',\n          article.image || 'https://media.menacatalyst.ps/cached_uploads/resize/400/500/default-image.jpg',\n        )\n          .then((newArticle) => {\n            if (newArticle.data) {\n              setSavedArticlesArray([...savedArticlesArray, newArticle.data]);\n            } else {\n              console.log('Статья не сохранилась');\n            }\n          })\n          .catch((err) => console.log(`Статья не сохранилась. Ошибка: ${err}`));\n        return;\n      }\n      deleteAnArticleFromTheSavedList(saved);\n    }\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <Header\n        pathname={pathname}\n        loggedIn={loggedIn}\n        onClick={handleAuthButton}\n        showMenu={showMenu}\n        isShowMenu={isShowMenu}\n        isShowOverlay={isShowOverlay}\n        isMenuMobile={isMenuMobile}\n        classBurgerMenu={classBurgerMenu}\n      />\n      <Switch>\n\n        <Route exact path=\"/\">\n          <Main\n            disabled={disabled}\n            loading={loading}\n            setLoading={setLoading}\n            notFound={notFound}\n            setNotFound={setNotFound}\n            isSearchError={isSearchError}\n            pathname={pathname}\n            loggedIn={loggedIn}\n            rowArticles={rowArticles}\n            handleShowMoreArticles={handleShowMoreArticles}\n            handleNewsSearch={handleNewsSearch}\n            addAnArticleToTheSavedList={addAnArticleToTheSavedList}\n            searchResultArray={searchResultArray}\n            valueSearchInput={valueSearchInput}\n            valueSearchInputError={valueSearchInputError}\n            setValueSearchInput={setValueSearchInput}\n            setValueSearchInputError={setValueSearchInputError}\n            savedArticlesArray={savedArticlesArray}\n          />\n        </Route>\n\n        <ProtectedRoute\n            path=\"/saved-news\"\n            component={SavedNews}\n            setLoginOpen={setLoginOpen}\n            savedArticlesArray={savedArticlesArray}\n            pathname={pathname}\n            loggedIn={loggedIn}\n            valueSearchInput={valueSearchInput}\n            deleteAnArticleFromTheSavedList={deleteAnArticleFromTheSavedList}\n        />\n        <Route>\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n      <Footer/>\n      <Login\n        isOpen={isLoginOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleRegisterOpen}\n        handleLogin={handleLogin}\n        authError={authError}\n        disabled={disabled}\n      />\n      <Register\n        isOpen={isRegisterOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleLoginOpen}\n        onInfoTooltipOpen={handleInfoTooltipOpen}\n        handleRegister={handleRegister}\n        authError={authError}\n        disabled={disabled}\n      />\n      <InfoTooltip\n        isOpen={isInfoTooltipOpen}\n        onClose={closeAllPopups}\n        onChangeForm={handleLoginOpen}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import {\n  NEWS_BASE_URL,\n  NEWS_API_KEY,\n  PAGE_SIZE,\n  CURRENT_DATE,\n  ONE_WEEK_AGO_FROM_THE_CURRENT_DATE,\n} from './config';\n\n// запрос — то, что ввёл пользователь в поиск;\n// apiKey — ключ, который вы получите после регистрации;\n// from — 7 дней назад от текущей даты;\n// to — текущая дата;\n// pageSize — максимально допустимый массив.\n// Выберите 100 статей — это ограничение бесплатной версии.\n\nexport const getArticles = (searchRequest) => {\n  const URL = `${NEWS_BASE_URL}?`\n    + `q=${searchRequest}&`\n    + `apiKey=${NEWS_API_KEY}&`\n    + `from=${ONE_WEEK_AGO_FROM_THE_CURRENT_DATE}&`\n    + `to=${CURRENT_DATE}&`\n    + `pageSize=${PAGE_SIZE}`;\n\n  return fetch(URL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ну вот, новости недоступны (Ошибка: ${res.status})`));\n    });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App/>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}